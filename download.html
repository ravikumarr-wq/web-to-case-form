<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Siding Catalog Download</title>

    <style>
        body {
            margin: 0;
            height: 100vh;
            font-family: "Segoe UI", Arial, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #eef3f7, #dfe7ef);
        }

        .card {
            background: #ffffff;
            border-radius: 14px;
            padding: 42px 48px;
            width: 100%;
            max-width: 460px;
            text-align: center;
            box-shadow: 0 18px 48px rgba(0,0,0,0.12);
            transition: all 0.4s ease;
        }

        .icon {
            font-size: 52px;
            margin-bottom: 14px;
            color: #1e88e5;
        }

        .success-icon {
            font-size: 56px;
            color: #2e7d32;
            display: none;
            margin-bottom: 10px;
        }

        .title {
            font-size: 21px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #1e293b;
        }

        .message {
            font-size: 14.5px;
            color: #475569;
            line-height: 1.7;
        }

        .loader {
            margin: 28px auto 10px;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: 4px solid #e5e7eb;
            border-top-color: #f59e0b;
            animation: spin 0.9s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* State colors */
        .preparing .icon { color: #1e88e5; }
        .downloading .icon { color: #fb8c00; }
        .completed .title { color: #2e7d32; }

    </style>
</head>

<body>

<div class="card preparing" id="card">
    <div class="icon" id="stateIcon">ðŸ“¦</div>
    <div class="success-icon" id="successIcon">âœ…</div>

    <div class="title" id="titleText">
        Getting your file readyâ€¦
    </div>

    <div class="message" id="messageText">
        Weâ€™re preparing your Siding Catalog.<br>
        Your download will start automatically.
    </div>

    <div class="loader" id="loader"></div>
</div>

<script>
window.addEventListener('load', function () {
    setTimeout(startDownload, 5000);
});

async function startDownload() {
    const url =
        'https://certainteed.widen.net/content/lwuwzgqr8d/pdf/roofing-contractorcashback-commercial-01-12-542-NA-EN-2301-form.pdf?u=nwk4fd';

    document.getElementById('card').className = 'card downloading';
    document.getElementById('messageText').innerText =
        'Your download is in progressâ€¦';

    try {
        const response = await fetch(url);
        const blob = await response.blob();
        const blobUrl = URL.createObjectURL(blob);

        const a = document.createElement('a');
        a.href = blobUrl;
        a.download = 'Siding_Catalog.pdf';

        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(blobUrl);

        // âœ… Completed state
        document.getElementById('loader').style.display = 'none';
        document.getElementById('stateIcon').style.display = 'none';
        document.getElementById('successIcon').style.display = 'block';
        document.getElementById('card').className = 'card completed';
        document.getElementById('titleText').innerText =
            'Download complete';
        document.getElementById('messageText').innerHTML =
            'Your Siding Catalog has been successfully<br>' +
            'downloaded to your device.';

    } catch (error) {
        document.getElementById('loader').style.display = 'none';
        document.getElementById('titleText').innerText =
            'Something went wrong';
        document.getElementById('messageText').innerText =
            'Please refresh the page and try again.';
    }
}
</script>

</body>
</html>
